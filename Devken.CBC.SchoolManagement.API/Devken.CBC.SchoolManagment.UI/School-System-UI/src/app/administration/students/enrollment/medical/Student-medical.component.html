<!-- Student Medical Component - Fuse/Material + Tailwind -->
<div class="max-w-6xl">

  <!-- Section Header -->
  <div class="flex items-start gap-4 mb-8">
    <div class="flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 shadow-lg">
      <mat-icon class="text-white !w-7 !h-7" svgIcon="heroicons_outline:heart"></mat-icon>
    </div>
    <div class="flex-1">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-1">Medical & Health</h2>
      <p class="text-gray-600 dark:text-gray-400">Health information helps school staff provide appropriate care. All fields are optional.</p>
    </div>
  </div>

  <form [formGroup]="form" novalidate class="space-y-6">

    <!-- Info Card -->
    <fuse-alert 
      type="info" 
      appearance="soft"
      [showIcon]="true">
      Medical information is kept confidential and only shared with authorised school health staff.
    </fuse-alert>

    <!-- Medical Details -->
    <mat-card class="shadow-md">
      <mat-card-header class="!pb-2">
        <mat-card-title class="!text-base !font-semibold flex items-center gap-2">
          <mat-icon svgIcon="heroicons_outline:clipboard-document-list" class="text-pink-600"></mat-icon>
          Medical Details
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="!pt-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Blood Group</mat-label>
            <mat-select formControlName="bloodGroup">
              <mat-option value="">Select blood group</mat-option>
              <mat-option value="A+">A+</mat-option>
              <mat-option value="A-">A-</mat-option>
              <mat-option value="B+">B+</mat-option>
              <mat-option value="B-">B-</mat-option>
              <mat-option value="AB+">AB+</mat-option>
              <mat-option value="AB-">AB-</mat-option>
              <mat-option value="O+">O+</mat-option>
              <mat-option value="O-">O-</mat-option>
              <mat-option value="Unknown">Unknown</mat-option>
            </mat-select>
            <mat-icon matPrefix svgIcon="heroicons_outline:beaker" class="text-gray-400"></mat-icon>
          </mat-form-field>
        </div>

        <div class="space-y-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Medical Conditions</mat-label>
            <textarea matInput formControlName="medicalConditions" rows="2" placeholder="e.g. Asthma, Diabetes, Epilepsy…"></textarea>
            <mat-hint>Any chronic or ongoing medical conditions</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Allergies</mat-label>
            <textarea matInput formControlName="allergies" rows="2" placeholder="e.g. Peanuts, Penicillin, Dust…"></textarea>
            <mat-hint>Food, medication, or environmental allergies</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Special Needs</mat-label>
            <textarea matInput formControlName="specialNeeds" rows="2" placeholder="e.g. Hearing impairment, Visual impairment…"></textarea>
            <mat-hint>Physical, learning, or developmental needs</mat-hint>
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Special Support -->
    <mat-card class="shadow-md">
      <mat-card-content class="!p-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-900/20">
              <mat-icon class="text-amber-600" svgIcon="heroicons_outline:star"></mat-icon>
            </div>
            <div>
              <div class="font-semibold text-gray-900 dark:text-white">Requires Special Support</div>
              <div class="text-sm text-gray-600 dark:text-gray-400">Student needs additional learning or physical support at school</div>
            </div>
          </div>
          <mat-slide-toggle formControlName="requiresSpecialSupport" color="accent"></mat-slide-toggle>
        </div>

        <fuse-alert 
          *ngIf="form.get('requiresSpecialSupport')?.value"
          type="warning" 
          appearance="soft"
          [showIcon]="true">
          Please ensure the Special Needs field above is filled in detail. This helps allocate the right support resources.
        </fuse-alert>
      </mat-card-content>
    </mat-card>

  </form>

</div>