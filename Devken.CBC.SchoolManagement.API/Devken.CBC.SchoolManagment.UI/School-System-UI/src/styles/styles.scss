/* ----------------------------------------------------------------------------------------------------- */
/*  Custom Dialog Navigation + UI Enhancements
/* ----------------------------------------------------------------------------------------------------- */

/* ─────────────────────────────────────────────
   Base Host
───────────────────────────────────────────── */
:host {
  display: flex;
  flex-direction: column;
  max-height: 92vh;
  overflow: hidden;
}

/* ─────────────────────────────────────────────
   Icon Utilities
───────────────────────────────────────────── */
.icon-size-4 { width: 16px; height: 16px; font-size: 16px; }
.icon-size-5 { width: 20px; height: 20px; font-size: 20px; }
.icon-size-6 { width: 24px; height: 24px; font-size: 24px; }

/* ─────────────────────────────────────────────
   Spin Animation
───────────────────────────────────────────── */
.animate-spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ─────────────────────────────────────────────
   Dialog Layout Navigation Structure
───────────────────────────────────────────── */

/* Makes header sticky */
.dialog-header {
  flex-shrink: 0;
  position: sticky;
  top: 0;
  z-index: 5;
}

/* Scrollable content area */
.mat-mdc-dialog-content,
.dialog-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
}

/* Sticky footer for navigation buttons */
.dialog-footer {
  flex-shrink: 0;
  position: sticky;
  bottom: 0;
  z-index: 5;
  background: inherit;
  padding: 16px 24px;
  border-top: 1px solid #e2e8f0;
}

/* ─────────────────────────────────────────────
   Scrollbar Styling
───────────────────────────────────────────── */
.mat-mdc-dialog-content {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 transparent;

  &::-webkit-scrollbar { width: 6px; }
  &::-webkit-scrollbar-track { background: transparent; }
  &::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 3px;
  }
  &::-webkit-scrollbar-thumb:hover {
    background-color: #94a3b8;
  }
}

/* Dark mode scrollbar */
.dark .mat-mdc-dialog-content {
  scrollbar-color: #475569 transparent;

  &::-webkit-scrollbar-thumb {
    background-color: #475569;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: #64748b;
  }
}

/* ─────────────────────────────────────────────
   Focus Navigation (Keyboard Accessibility)
───────────────────────────────────────────── */
button:focus-visible,
.mat-mdc-button:focus-visible,
.mat-mdc-icon-button:focus-visible,
.mat-mdc-raised-button:focus-visible {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
  border-radius: 6px;
}

/* Form field navigation clarity */
.mat-mdc-form-field {
  .mat-mdc-form-field-subscript-wrapper {
    font-size: 0.75rem;
  }

  .mat-mdc-form-field-hint {
    color: #6b7280;
  }
}

.dark {
  .mat-mdc-form-field {
    .mat-mdc-form-field-hint {
      color: #9ca3af;
    }
  }
}

/* ─────────────────────────────────────────────
   Remove Padding Wrapper
───────────────────────────────────────────── */
.no-padding-dialog {
  .mat-mdc-dialog-container,
  .mat-dialog-container {
    padding: 0 !important;
    overflow: hidden;
  }

  .mdc-dialog__surface,
  .mat-mdc-dialog-surface {
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    max-height: 92vh !important;
  }
}

/* ─────────────────────────────────────────────
   Teacher Dialog Style
───────────────────────────────────────────── */
.teacher-dialog {
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* ─────────────────────────────────────────────
   School View Dialog (Navigation Ready)
───────────────────────────────────────────── */
.school-view-dialog {
  max-width: 680px !important;
  width: 95vw !important;

  .mat-mdc-dialog-container {
    padding: 0 !important;
    border-radius: 12px !important;
    overflow: hidden;
    background: transparent !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  }

  .mdc-dialog__surface {
    display: flex !important;
    flex-direction: column !important;
    max-height: 90vh !important;
    overflow: hidden !important;
  }

  /* Ensure content scroll area */
  .mat-mdc-dialog-content {
    flex: 1;
    overflow-y: auto;
  }
}

/* ─────────────────────────────────────────────
   Step Navigation Buttons
───────────────────────────────────────────── */
.dialog-nav-buttons {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.nav-btn {
  min-width: 120px;
}

/* ─────────────────────────────────────────────
   Mobile Fullscreen Navigation
───────────────────────────────────────────── */
@media (max-width: 639px) {
  .school-view-dialog {
    max-width: 100vw !important;
    width: 100vw !important;
    margin: 0 !important;

    .mat-mdc-dialog-container,
    .mdc-dialog__surface {
      border-radius: 0 !important;
      max-height: 100dvh !important;
    }
  }

  :host {
    max-height: 100dvh;
  }
}